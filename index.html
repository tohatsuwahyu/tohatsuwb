<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WingBend – Mark-Free Forming</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .hero-bg {
      background: url('images/WingBend-PLUS-Komplett.jpg') center/cover no-repeat;
    }
    marquee {
      font-weight: bold;
      color: #b91c1c;
    }
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>
<body class="bg-gray-50 font-sans">

<!-- Header -->
<header class="flex justify-between items-center p-4 bg-white shadow fixed top-0 w-full z-50">
  <div class="flex items-center gap-2">
    <img src="images/tsh.png" alt="Logo" class="h-8">
    <h1 class="text-xl font-bold">Tokyo Seimitsu Hatsujo.co.,ltd</h1>
  </div>
  <div class="flex gap-3 items-center">
    <a href="#top" class="menu-link bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">Home</a>
    <a href="#askForm" class="menu-link bg-blue-200 px-3 py-1 rounded hover:bg-blue-300">Ask</a>
    <a href="#downloadForm" class="menu-link bg-red-200 px-3 py-1 rounded hover:bg-red-300">Download</a>
    <button onclick="setLang('en')">EN</button> |
    <button onclick="setLang('id')">ID</button> |
    <button onclick="setLang('jp')">日本語</button>
  </div>
</header>

<!-- Spacer for fixed header -->
<div class="h-16"></div>

<!-- Text berjalan -->
<div class="bg-yellow-100 py-2">
  <marquee id="marqueeText" behavior="scroll" direction="left">
    Tokyo Seimitsu Hatsujo.co., ltd – Wing Bend / Wing Bend Plus – Redefining Mark-Free Forming
  </marquee>
</div>

<!-- Hero -->
<section id="top" class="relative hero-bg h-[350px] flex flex-col items-center justify-center text-center text-white">
  <!-- Overlay -->
  <div class="absolute inset-0 bg-black bg-opacity-50"></div>
  
  <!-- Content -->
  <div class="relative z-10 px-4">
    <h2 id="hero-title" class="text-4xl font-bold drop-shadow-lg">Mark-Free Forming</h2>
    <p id="hero-desc" class="mt-3 text-lg drop-shadow-lg">
      Beautiful radius and short flanges with minimal marking.
    </p>
    <a href="#downloadForm" class="mt-6 inline-block bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg shadow-lg transition">
      📥 Download Catalog
    </a>
  </div>
</section>

<!-- Form Pertanyaan -->
<section id="askForm" class="p-8 bg-white shadow max-w-lg mx-auto mt-8">
  <h3 class="text-xl font-bold mb-4" id="form-title">Ask About WingBend</h3>
  <form id="questionForm" class="space-y-4">
    <input type="text" name="name" placeholder="Name" class="w-full border p-2" required>
    <input type="tel" name="phone" placeholder="Phone Number" class="w-full border p-2" required>
    <input type="email" name="email" placeholder="Email" class="w-full border p-2" required>
    <textarea name="message" placeholder="Message" class="w-full border p-2"></textarea>
    <div class="flex gap-2">
      <button type="submit" class="bg-blue-600 text-white px-4 py-2">Send</button>
      <a href="https://wa.me/818021409299" target="_blank" 
         class="bg-green-600 text-white px-4 py-2">WhatsApp</a>
    </div>
  </form>
</section>

<!-- Download Catalog -->
<section class="p-8 text-center" id="downloadForm">
  <h3 class="text-xl font-bold mb-4" id="download-title">Download Catalog</h3>
  <form id="downloadFormElement" class="space-y-4 max-w-md mx-auto">
    <input type="text" name="name" placeholder="Name" class="w-full border p-2" required>
    <input type="tel" name="phone" placeholder="Phone Number" class="w-full border p-2" required>
    <input type="email" name="email" placeholder="Email" class="w-full border p-2" required>
    <input type="text" name="company" placeholder="Company" class="w-full border p-2" required>
    <button type="submit" class="bg-red-600 text-white px-4 py-2">Submit</button>
  </form>
  <div id="downloadOptions" class="hidden mt-4 space-x-4">
    <a href="e catalog.pdf" download class="bg-blue-600 text-white px-4 py-2 rounded">📥 English Catalog</a>
    <a href="catalog-jp.pdf" download class="bg-yellow-600 text-white px-4 py-2 rounded">📥 日本語カタログ</a>
  </div>
</section>

<!-- Footer -->
<footer class="p-4 bg-gray-100 text-center text-sm">
  © Tokyo Seimitsu Hatsujo Co., Ltd. <br>
  Design by Wahyu
</footer>

<script>
// ---- Multi-language dictionary ----
function setLang(lang) {
  const dict = {
    en: {
      hero:"Mark-Free Forming",
      desc:"Beautiful radius and short flanges with minimal marking.",
      form:"Ask About WingBend",
      download:"Download Catalog",
      marquee:"Tokyo Seimitsu Hatsujo.co., ltd – Wing Bend / Wing Bend Plus – Redefining Mark-Free Forming"
    },
    id: {
      hero:"Bebas Bekas Tekukan",
      desc:"Radius indah dan flange pendek tanpa bekas.",
      form:"Tanya tentang WingBend",
      download:"Unduh Katalog",
      marquee:"Tokyo Seimitsu Hatsujo.co., ltd – Wing Bend / Wing Bend Plus – Membengkokkan tanpa bekas"
    },
    jp: {
      hero:"無痕曲げ",
      desc:"美しい外Rとショートフランジを跡なく曲げる。",
      form:"WingBend問い合わせ",
      download:"カタログをダウンロード",
      marquee:"東京精密発條株式会社 – Wing Bend / Wing Bend Plus – 無痕曲げの新定義"
    }
  };
  document.getElementById('hero-title').innerText = dict[lang].hero;
  document.getElementById('hero-desc').innerText = dict[lang].desc;
  document.getElementById('form-title').innerText = dict[lang].form;
  document.getElementById('download-title').innerText = dict[lang].download;
  document.getElementById('marqueeText').innerText = dict[lang].marquee;
}

// ---- URL Google Apps Script (simpan ke Google Sheets) ----
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwy9I8eJrigp0lo5KrkiPCjHvTWaZgrGoinin14A8TX8f-in5qfBfqfBwhWRqeRif-z/exec";

// ---- Form pertanyaan: simpan ke Google Sheet + buka email client ----
document.getElementById('questionForm').addEventListener('submit', e=>{
  e.preventDefault();
  const form = e.target;

  fetch(SCRIPT_URL, { method: 'POST', body: new FormData(form) })
    .then(() => console.log("✅ Question saved to Google Sheet"))
    .catch(() => console.error("❌ Failed to save question"));

  const subject = "WingBend Inquiry from " + form.name.value;
  const body = `Name: ${form.name.value}\nPhone: ${form.phone.value}\nEmail: ${form.email.value}\nMessage: ${form.message.value}`;
  window.location.href = `mailto:wahyu@to-hatsu.co.jp?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
});

// ---- Download form: simpan ke Google Sheet + tampilkan pilihan EN / JP ----
document.getElementById('downloadFormElement').addEventListener('submit', e=>{
  e.preventDefault();
  const form = e.target;

  fetch(SCRIPT_URL, { method: 'POST', body: new FormData(form) })
    .then(() => {
      document.getElementById('downloadOptions').classList.remove('hidden');
      alert("✅ Data submitted. Please choose catalog language.");
    })
    .catch(() => alert("❌ Failed to submit data."));
});

// ---- Highlight active menu saat scroll ----
const sections = document.querySelectorAll("section[id]");
const navLinks = document.querySelectorAll(".menu-link");

window.addEventListener("scroll", () => {
  let current = "";
  sections.forEach(sec => {
    const secTop = sec.offsetTop - 120; // offset untuk header
    if (pageYOffset >= secTop) {
      current = sec.getAttribute("id");
    }
  });

  navLinks.forEach(link => {
    link.classList.remove("bg-gray-300","bg-blue-300","bg-red-300");
    if (link.getAttribute("href") === "#" + current) {
      if (current === "askForm") {
        link.classList.add("bg-blue-300");
      } else if (current === "downloadForm") {
        link.classList.add("bg-red-300");
      } else {
        link.classList.add("bg-gray-300");
      }
    }
  });
});
</script>

</body>
</html>
