<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WingBend – Mark-Free Forming</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans">

<!-- Header -->
<header class="flex justify-between items-center p-4 bg-white shadow">
  <div class="flex items-center gap-2">
    <img src="images/tsh.png" alt="Logo" class="h-8">
    <h1 class="text-xl font-bold">Tokyo Seimitsu Hatsujo.co.,ltd</h1>
  </div>
  <div>
    <button onclick="setLang('en')">EN</button> |
    <button onclick="setLang('id')">ID</button> |
    <button onclick="setLang('jp')">日本語</button>
  </div>
</header>

<!-- Hero -->
<section class="p-8 text-center">
  <h2 id="hero-title" class="text-2xl font-bold">Mark-Free Forming</h2>
  <p id="hero-desc" class="mt-2">Beautiful radius and short flanges with minimal marking.</p>
</section>

<!-- Form Pertanyaan -->
<section class="p-8 bg-white shadow max-w-lg mx-auto">
  <h3 class="text-xl font-bold mb-4" id="form-title">Ask About WingBend</h3>
  <form id="questionForm" class="space-y-4">
    <input type="text" name="name" placeholder="Name" class="w-full border p-2" required>
    <input type="tel" name="phone" placeholder="Phone Number" class="w-full border p-2" required>
    <input type="email" name="email" placeholder="Email" class="w-full border p-2" required>
    <textarea name="message" placeholder="Message" class="w-full border p-2"></textarea>
    <div class="flex gap-2">
      <button type="submit" class="bg-blue-600 text-white px-4 py-2">Send</button>
      <a href="https://wa.me/818021409299" target="_blank" 
         class="bg-green-600 text-white px-4 py-2">WhatsApp</a>
    </div>
  </form>
</section>

<!-- Download Catalog -->
<section class="p-8 text-center">
  <h3 class="text-xl font-bold mb-4" id="download-title">Download Catalog</h3>
  <form id="downloadForm" class="space-y-4 max-w-md mx-auto">
    <input type="text" name="name" placeholder="Name" class="w-full border p-2" required>
    <input type="tel" name="phone" placeholder="Phone Number" class="w-full border p-2" required>
    <input type="email" name="email" placeholder="Email" class="w-full border p-2" required>
    <input type="text" name="company" placeholder="Company" class="w-full border p-2" required>
    <button type="submit" class="bg-red-600 text-white px-4 py-2">Submit</button>
  </form>
  <div id="downloadOptions" class="hidden mt-4 space-x-4">
    <a href="catalog-en.pdf" download class="bg-blue-600 text-white px-4 py-2 rounded">📥 English Catalog</a>
    <a href="catalog-jp.pdf" download class="bg-yellow-600 text-white px-4 py-2 rounded">📥 日本語カタログ</a>
  </div>
</section>

<!-- Footer -->
<footer class="p-4 bg-gray-100 text-center text-sm">
  © Tokyo Seimitsu Hatsujo Co., Ltd. <br>
  Design by Wahyu
</footer>

<script>
// ---- Multi-language dictionary ----
function setLang(lang) {
  const dict = {
    en: {hero:"Mark-Free Forming",desc:"Beautiful radius and short flanges with minimal marking.",form:"Ask About WingBend",download:"Download Catalog"},
    id: {hero:"Bebas Bekas Tekukan",desc:"Radius indah dan flange pendek tanpa bekas.",form:"Tanyakan tentang WingBend",download:"Unduh Katalog"},
    jp: {hero:"無痕曲げ",desc:"美しい外Rとショートフランジを跡なく曲げる。",form:"WingBend問い合わせ",download:"カタログをダウンロード"}
  };
  document.getElementById('hero-title').innerText = dict[lang].hero;
  document.getElementById('hero-desc').innerText = dict[lang].desc;
  document.getElementById('form-title').innerText = dict[lang].form;
  document.getElementById('download-title').innerText = dict[lang].download;
}

// ---- URL Google Apps Script (untuk simpan ke Google Sheets) ----
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwy9I8eJrigp0lo5KrkiPCjHvTWaZgrGoinin14A8TX8f-in5qfBfqfBwhWRqeRif-z/exec";

// ---- Form pertanyaan: simpan ke Google Sheet + kirim email ----
document.getElementById('questionForm').addEventListener('submit', e=>{
  e.preventDefault();
  const form = e.target;

  // Simpan ke Google Sheet
  fetch(SCRIPT_URL, { method: 'POST', body: new FormData(form) })
    .then(() => console.log("✅ Question saved to Google Sheet"))
    .catch(() => console.error("❌ Failed to save question"));

  // Kirim email via mailto
  const subject = "WingBend Inquiry from " + form.name.value;
  const body = `Name: ${form.name.value}\nPhone: ${form.phone.value}\nEmail: ${form.email.value}\nMessage: ${form.message.value}`;
  window.location.href = `mailto:wahyu@to-hatsu.co.jp?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
});

// ---- Download form: simpan ke Google Sheet + tampilkan pilihan EN / JP ----
document.getElementById('downloadForm').addEventListener('submit', e=>{
  e.preventDefault();
  const form = e.target;

  // Simpan ke Google Sheet
  fetch(SCRIPT_URL, { method: 'POST', body: new FormData(form) })
    .then(() => {
      document.getElementById('downloadOptions').classList.remove('hidden');
      alert("✅ Data submitted. Please choose catalog language.");
    })
    .catch(() => alert("❌ Failed to submit data."));
});
</script>

</body>
</html>
